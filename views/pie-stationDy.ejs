<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>电站动态信息图</title>
</head>
<body>
<div id="main" style="height:500px;width:650px;border:1px solid #ccc;padding:10px;"></div>
</body>
<script src="/js/jquery-1.11.0.min.js"></script>
<script src="/js/echarts-plain.js"></script>
<script>
    var myChart = echarts.init(document.getElementById('main'));

    $.getJSON('data/stationDynamicInfo.json', function (data) {
        var legendData = [];

        var _data = [];

        $.each(data, function (key, val) {
            legendData.push(key);
            _data.push({"value": val, "name": key});
        });

        myChart.setOption({
            title: {
                text: '电站动态信息',
                subtext: '纯属虚构',
                x: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                x: 'left',
                data: legendData
            },
            toolbox: {
                show: true,
                feature: {
                    mark: {show: true},
                    dataView: {show: true, readOnly: false},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            calculable: true,
            series: [
                {
                    name: '动态信息',
                    type: 'pie',
                    radius: '55%',
                    center: ['50%', 300],
                    data: _data
                }
            ]
        });
    });

</script>
</html>